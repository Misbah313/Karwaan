{
  "actions": [
    {
      "type": "deleteTable",
      "deleteTable": "comment"
    },
    {
      "type": "deleteTable",
      "deleteTable": "checklist_item"
    },
    {
      "type": "deleteTable",
      "deleteTable": "check_list"
    },
    {
      "type": "deleteTable",
      "deleteTable": "card_label"
    },
    {
      "type": "deleteTable",
      "deleteTable": "attachment"
    },
    {
      "type": "deleteTable",
      "deleteTable": "card"
    },
    {
      "type": "createTable",
      "createTable": {
        "name": "attachment",
        "dartName": "Attachment",
        "module": "karwaan",
        "schema": "public",
        "columns": [
          {
            "name": "id",
            "columnType": 6,
            "isNullable": false,
            "columnDefault": "nextval('attachment_id_seq'::regclass)",
            "dartType": "int?"
          },
          {
            "name": "card",
            "columnType": 6,
            "isNullable": false,
            "dartType": "int"
          },
          {
            "name": "uploadedBy",
            "columnType": 6,
            "isNullable": false,
            "dartType": "int"
          },
          {
            "name": "fileName",
            "columnType": 0,
            "isNullable": false,
            "dartType": "String"
          }
        ],
        "foreignKeys": [
          {
            "constraintName": "attachment_fk_0",
            "columns": [
              "card"
            ],
            "referenceTable": "board_card",
            "referenceTableSchema": "public",
            "referenceColumns": [
              "id"
            ],
            "onUpdate": 3,
            "onDelete": 3
          },
          {
            "constraintName": "attachment_fk_1",
            "columns": [
              "uploadedBy"
            ],
            "referenceTable": "user",
            "referenceTableSchema": "public",
            "referenceColumns": [
              "id"
            ],
            "onUpdate": 3,
            "onDelete": 3
          }
        ],
        "indexes": [
          {
            "indexName": "attachment_pkey",
            "elements": [
              {
                "type": 0,
                "definition": "id"
              }
            ],
            "type": "btree",
            "isUnique": true,
            "isPrimary": true
          }
        ],
        "managed": true
      }
    },
    {
      "type": "alterTable",
      "alterTable": {
        "name": "board",
        "schema": "public",
        "addColumns": [],
        "deleteColumns": [],
        "modifyColumns": [
          {
            "columnName": "description",
            "addNullable": false,
            "removeNullable": true,
            "changeDefault": false
          }
        ],
        "addIndexes": [],
        "deleteIndexes": [],
        "addForeignKeys": [],
        "deleteForeignKeys": [],
        "warnings": [
          {
            "type": "tableDropped",
            "message": "Table \"comment\" will be dropped.",
            "table": "comment",
            "columns": [],
            "destrucive": true
          },
          {
            "type": "tableDropped",
            "message": "Table \"checklist_item\" will be dropped.",
            "table": "checklist_item",
            "columns": [],
            "destrucive": true
          },
          {
            "type": "tableDropped",
            "message": "Table \"check_list\" will be dropped.",
            "table": "check_list",
            "columns": [],
            "destrucive": true
          },
          {
            "type": "tableDropped",
            "message": "Table \"card_label\" will be dropped.",
            "table": "card_label",
            "columns": [],
            "destrucive": true
          },
          {
            "type": "tableDropped",
            "message": "Table \"attachment\" will be dropped.",
            "table": "attachment",
            "columns": [],
            "destrucive": true
          },
          {
            "type": "tableDropped",
            "message": "Table \"card\" will be dropped.",
            "table": "card",
            "columns": [],
            "destrucive": true
          },
          {
            "type": "notNullAdded",
            "message": "Column description of table board is modified to be not null. If there are existing rows with null values, this migration will fail.",
            "table": "board",
            "columns": [
              "description"
            ],
            "destrucive": false
          }
        ]
      }
    },
    {
      "type": "createTable",
      "createTable": {
        "name": "board_card",
        "dartName": "BoardCard",
        "module": "karwaan",
        "schema": "public",
        "columns": [
          {
            "name": "id",
            "columnType": 6,
            "isNullable": false,
            "columnDefault": "nextval('board_card_id_seq'::regclass)",
            "dartType": "int?"
          },
          {
            "name": "title",
            "columnType": 0,
            "isNullable": false,
            "dartType": "String"
          },
          {
            "name": "description",
            "columnType": 0,
            "isNullable": true,
            "dartType": "String?"
          },
          {
            "name": "createdBy",
            "columnType": 6,
            "isNullable": false,
            "dartType": "int"
          },
          {
            "name": "list",
            "columnType": 6,
            "isNullable": false,
            "dartType": "int"
          },
          {
            "name": "createdAt",
            "columnType": 4,
            "isNullable": false,
            "dartType": "DateTime"
          },
          {
            "name": "position",
            "columnType": 6,
            "isNullable": true,
            "dartType": "int?"
          },
          {
            "name": "isCompleted",
            "columnType": 1,
            "isNullable": false,
            "dartType": "bool"
          }
        ],
        "foreignKeys": [
          {
            "constraintName": "board_card_fk_0",
            "columns": [
              "createdBy"
            ],
            "referenceTable": "user",
            "referenceTableSchema": "public",
            "referenceColumns": [
              "id"
            ],
            "onUpdate": 3,
            "onDelete": 3
          },
          {
            "constraintName": "board_card_fk_1",
            "columns": [
              "list"
            ],
            "referenceTable": "board_list",
            "referenceTableSchema": "public",
            "referenceColumns": [
              "id"
            ],
            "onUpdate": 3,
            "onDelete": 3
          }
        ],
        "indexes": [
          {
            "indexName": "board_card_pkey",
            "elements": [
              {
                "type": 0,
                "definition": "id"
              }
            ],
            "type": "btree",
            "isUnique": true,
            "isPrimary": true
          }
        ],
        "managed": true
      }
    },
    {
      "type": "createTable",
      "createTable": {
        "name": "board_details",
        "dartName": "BoardDetails",
        "module": "karwaan",
        "schema": "public",
        "columns": [
          {
            "name": "id",
            "columnType": 6,
            "isNullable": false,
            "columnDefault": "nextval('board_details_id_seq'::regclass)",
            "dartType": "int?"
          },
          {
            "name": "workspaceId",
            "columnType": 6,
            "isNullable": false,
            "dartType": "int"
          },
          {
            "name": "name",
            "columnType": 0,
            "isNullable": false,
            "dartType": "String"
          },
          {
            "name": "description",
            "columnType": 0,
            "isNullable": true,
            "dartType": "String?"
          },
          {
            "name": "createdAt",
            "columnType": 4,
            "isNullable": false,
            "dartType": "DateTime"
          },
          {
            "name": "members",
            "columnType": 8,
            "isNullable": false,
            "dartType": "List<String>"
          }
        ],
        "foreignKeys": [
          {
            "constraintName": "board_details_fk_0",
            "columns": [
              "workspaceId"
            ],
            "referenceTable": "workspace",
            "referenceTableSchema": "public",
            "referenceColumns": [
              "id"
            ],
            "onUpdate": 3,
            "onDelete": 3
          }
        ],
        "indexes": [
          {
            "indexName": "board_details_pkey",
            "elements": [
              {
                "type": 0,
                "definition": "id"
              }
            ],
            "type": "btree",
            "isUnique": true,
            "isPrimary": true
          }
        ],
        "managed": true
      }
    },
    {
      "type": "createTable",
      "createTable": {
        "name": "card_label",
        "dartName": "CardLabel",
        "module": "karwaan",
        "schema": "public",
        "columns": [
          {
            "name": "id",
            "columnType": 6,
            "isNullable": false,
            "columnDefault": "nextval('card_label_id_seq'::regclass)",
            "dartType": "int?"
          },
          {
            "name": "card",
            "columnType": 6,
            "isNullable": false,
            "dartType": "int"
          },
          {
            "name": "label",
            "columnType": 6,
            "isNullable": false,
            "dartType": "int"
          }
        ],
        "foreignKeys": [
          {
            "constraintName": "card_label_fk_0",
            "columns": [
              "card"
            ],
            "referenceTable": "board_card",
            "referenceTableSchema": "public",
            "referenceColumns": [
              "id"
            ],
            "onUpdate": 3,
            "onDelete": 3
          },
          {
            "constraintName": "card_label_fk_1",
            "columns": [
              "label"
            ],
            "referenceTable": "lable",
            "referenceTableSchema": "public",
            "referenceColumns": [
              "id"
            ],
            "onUpdate": 3,
            "onDelete": 3
          }
        ],
        "indexes": [
          {
            "indexName": "card_label_pkey",
            "elements": [
              {
                "type": 0,
                "definition": "id"
              }
            ],
            "type": "btree",
            "isUnique": true,
            "isPrimary": true
          }
        ],
        "managed": true
      }
    },
    {
      "type": "createTable",
      "createTable": {
        "name": "check_list",
        "dartName": "CheckList",
        "module": "karwaan",
        "schema": "public",
        "columns": [
          {
            "name": "id",
            "columnType": 6,
            "isNullable": false,
            "columnDefault": "nextval('check_list_id_seq'::regclass)",
            "dartType": "int?"
          },
          {
            "name": "title",
            "columnType": 0,
            "isNullable": false,
            "dartType": "String"
          },
          {
            "name": "card",
            "columnType": 6,
            "isNullable": false,
            "dartType": "int"
          },
          {
            "name": "createdAt",
            "columnType": 4,
            "isNullable": false,
            "dartType": "DateTime"
          },
          {
            "name": "createdBy",
            "columnType": 6,
            "isNullable": false,
            "dartType": "int"
          }
        ],
        "foreignKeys": [
          {
            "constraintName": "check_list_fk_0",
            "columns": [
              "card"
            ],
            "referenceTable": "board_card",
            "referenceTableSchema": "public",
            "referenceColumns": [
              "id"
            ],
            "onUpdate": 3,
            "onDelete": 3
          },
          {
            "constraintName": "check_list_fk_1",
            "columns": [
              "createdBy"
            ],
            "referenceTable": "user",
            "referenceTableSchema": "public",
            "referenceColumns": [
              "id"
            ],
            "onUpdate": 3,
            "onDelete": 3
          }
        ],
        "indexes": [
          {
            "indexName": "check_list_pkey",
            "elements": [
              {
                "type": 0,
                "definition": "id"
              }
            ],
            "type": "btree",
            "isUnique": true,
            "isPrimary": true
          }
        ],
        "managed": true
      }
    },
    {
      "type": "createTable",
      "createTable": {
        "name": "checklist_item",
        "dartName": "CheckListItem",
        "module": "karwaan",
        "schema": "public",
        "columns": [
          {
            "name": "id",
            "columnType": 6,
            "isNullable": false,
            "columnDefault": "nextval('checklist_item_id_seq'::regclass)",
            "dartType": "int?"
          },
          {
            "name": "checklist",
            "columnType": 6,
            "isNullable": false,
            "dartType": "int"
          },
          {
            "name": "content",
            "columnType": 0,
            "isNullable": false,
            "dartType": "String"
          },
          {
            "name": "isDone",
            "columnType": 1,
            "isNullable": false,
            "dartType": "bool"
          },
          {
            "name": "createdBy",
            "columnType": 6,
            "isNullable": false,
            "dartType": "int"
          }
        ],
        "foreignKeys": [
          {
            "constraintName": "checklist_item_fk_0",
            "columns": [
              "checklist"
            ],
            "referenceTable": "check_list",
            "referenceTableSchema": "public",
            "referenceColumns": [
              "id"
            ],
            "onUpdate": 3,
            "onDelete": 3
          },
          {
            "constraintName": "checklist_item_fk_1",
            "columns": [
              "createdBy"
            ],
            "referenceTable": "user",
            "referenceTableSchema": "public",
            "referenceColumns": [
              "id"
            ],
            "onUpdate": 3,
            "onDelete": 3
          }
        ],
        "indexes": [
          {
            "indexName": "checklist_item_pkey",
            "elements": [
              {
                "type": 0,
                "definition": "id"
              }
            ],
            "type": "btree",
            "isUnique": true,
            "isPrimary": true
          }
        ],
        "managed": true
      }
    },
    {
      "type": "createTable",
      "createTable": {
        "name": "comment",
        "dartName": "Comment",
        "module": "karwaan",
        "schema": "public",
        "columns": [
          {
            "name": "id",
            "columnType": 6,
            "isNullable": false,
            "columnDefault": "nextval('comment_id_seq'::regclass)",
            "dartType": "int?"
          },
          {
            "name": "card",
            "columnType": 6,
            "isNullable": false,
            "dartType": "int"
          },
          {
            "name": "author",
            "columnType": 6,
            "isNullable": false,
            "dartType": "int"
          },
          {
            "name": "content",
            "columnType": 0,
            "isNullable": false,
            "dartType": "String"
          },
          {
            "name": "createdAt",
            "columnType": 4,
            "isNullable": false,
            "dartType": "DateTime"
          }
        ],
        "foreignKeys": [
          {
            "constraintName": "comment_fk_0",
            "columns": [
              "card"
            ],
            "referenceTable": "board_card",
            "referenceTableSchema": "public",
            "referenceColumns": [
              "id"
            ],
            "onUpdate": 3,
            "onDelete": 3
          },
          {
            "constraintName": "comment_fk_1",
            "columns": [
              "author"
            ],
            "referenceTable": "user",
            "referenceTableSchema": "public",
            "referenceColumns": [
              "id"
            ],
            "onUpdate": 3,
            "onDelete": 3
          }
        ],
        "indexes": [
          {
            "indexName": "comment_pkey",
            "elements": [
              {
                "type": 0,
                "definition": "id"
              }
            ],
            "type": "btree",
            "isUnique": true,
            "isPrimary": true
          }
        ],
        "managed": true
      }
    }
  ],
  "warnings": [
    {
      "type": "tableDropped",
      "message": "Table \"comment\" will be dropped.",
      "table": "comment",
      "columns": [],
      "destrucive": true
    },
    {
      "type": "tableDropped",
      "message": "Table \"checklist_item\" will be dropped.",
      "table": "checklist_item",
      "columns": [],
      "destrucive": true
    },
    {
      "type": "tableDropped",
      "message": "Table \"check_list\" will be dropped.",
      "table": "check_list",
      "columns": [],
      "destrucive": true
    },
    {
      "type": "tableDropped",
      "message": "Table \"card_label\" will be dropped.",
      "table": "card_label",
      "columns": [],
      "destrucive": true
    },
    {
      "type": "tableDropped",
      "message": "Table \"attachment\" will be dropped.",
      "table": "attachment",
      "columns": [],
      "destrucive": true
    },
    {
      "type": "tableDropped",
      "message": "Table \"card\" will be dropped.",
      "table": "card",
      "columns": [],
      "destrucive": true
    },
    {
      "type": "notNullAdded",
      "message": "Column description of table board is modified to be not null. If there are existing rows with null values, this migration will fail.",
      "table": "board",
      "columns": [
        "description"
      ],
      "destrucive": false
    }
  ],
  "migrationApiVersion": 1
}